@model WeatherApp.Models.WeeklyForecast

@{
    ViewData["Title"] = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="weather-wrapper">
    <div class="overlay">
        <!-- HEADER: час + пошук -->
        <header class="weather-header">
            <div class="time-date">
                @{
                    var local = DateTime.Parse(Model.CurrentWeather.LocalTime);
                }
                <span class="time">@local.ToString("HH:mm")</span>
                <span class="date">@local.ToString("dddd, d MMMM yyyy")</span>
            </div>
            <form method="get" asp-action="Index" class="search-form">
                <input type="text"
                       name="city"
                       placeholder="Введіть місто..."
                       class="search-input" />
                <button type="submit" class="search-button">
                    <i class="fa fa-search"></i>
                </button>
            </form>
        </header>

        <!-- ПОТОЧНА ПОГОДА -->
        <section class="current-weather">
            <h1>@Model.CurrentWeather.City</h1>
            <p class="location">@Model.CurrentWeather.Region, @Model.CurrentWeather.Country</p>
            <div class="icon-wrap">
                <img src="https:@Model.CurrentWeather.IconUrl"
                     alt="@Model.CurrentWeather.Description" />
            </div>
            <p class="description">@Model.CurrentWeather.Description</p>
            <div class="stats">
                <div>
                    <i class="fa fa-thermometer-half"></i>
                    @Model.CurrentWeather.TemperatureC° C / @Model.CurrentWeather.TemperatureF° F
                </div>
                <div>
                    <i class="fa fa-tint"></i>
                    @Model.CurrentWeather.Humidity %
                </div>
                <div>
                    <i class="fa fa-wind"></i>
                    @Model.CurrentWeather.WindKph km/h
                </div>
                <div>
                    <i class="fa fa-compress-alt"></i>
                    @Model.CurrentWeather.PressureMb mb
                </div>
                <div>
                    <i class="fa fa-sun"></i>
                    UV @Model.CurrentWeather.UV
                </div>
            </div>
        </section>

        <!-- ПРОГНОЗ НА НЕДІЛЮ -->
        <section class="forecast">
            @foreach (var day in Model.Days)
            {
                <div class="day">
                    <div class="label">
                        @day.Date.ToString("ddd")
                    </div>
                    <div class="icon">
                        <img src="https:@day.Icon" alt="@day.Description" />
                    </div>
                    <div class="temp">
                        <span class="max">@Math.Round(day.TemperatureDay)°</span> /
                        <span class="min">@Math.Round(day.TemperatureNight)°</span>
                    </div>
                </div>
            }
        </section>
    </div>
</div>

@section Styles {
    <link rel="stylesheet" href="~/css/weather.css" asp-append-version="true" />
}
